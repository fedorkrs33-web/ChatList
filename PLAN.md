# План реализации программы ChatList

## Этап 1: Подготовка проекта
- [ ] Создать структуру папок:
chatlist/ 
├── main.py # Точка входа, GUI 
├── db.py # Работа с SQLite 
├── models.py # Управление моделями 
├── network.py # Запросы к API 
├── config.py # Загрузка .env 
└── .env # API-ключи

- [ ] Создать виртуальное окружение: `python -m venv venv`
- [ ] Установить зависимости: `pip install python-dotenv PyQt6 requests`
- [ ] Создать и заполнить `.env` (пример: `OPENAI_API_KEY=sk-...`)

## Этап 2: Реализация базы данных (SQLite)
- [ ] Создать `db.py`
- [ ] Реализовать:
- Подключение к `chatlist.db`
- Создание таблиц: `prompts`, `models`, `results`, `settings`
- Методы: `init_db()`, `get_all_prompts()`, `save_result()`, `get_active_models()`
- [ ] Написать тестовый скрипт для проверки создания БД

## Этап 3: Модуль моделей (`models.py`)
- [ ] Описать класс `Model`:
- Поля: `name`, `api_url`, `api_key_var`, `is_active`
- [ ] Методы:
- `load_from_db()`
- `save_to_db()`
- `update_status()`
- [ ] Реализовать загрузку активных моделей

## Этап 4: Модуль запросов (`network.py`)
- [ ] Реализовать:
- `send_prompt_to_model(model, prompt)` → возвращает `response_text` или `error`
- Обработка разных типов API (OpenAI-совместимые или несовместимые)
- [ ] Поддержка таймаутов, ошибок сети
- [ ] Логирование запросов (в консоль)

## Этап 5: GUI (main.py + PyQt6)
- [ ] Создать главное окно:
- Поле ввода промта
- Таблица сохранённых промтов (с поиском)
- Кнопка "Отправить"
- [ ] Таблица результатов:
- Столбцы: Модель, Ответ, Чекбокс
- Поддержка сортировки
- [ ] Кнопки: "Сохранить выбранные", "Очистить"
- [ ] Экспорт в JSON/Markdown (опционально)

## Этап 6: Логика работы
- [ ] При запуске:
- Загрузить модели из БД
- Показать сохранённые промты
- [ ] По нажатию "Отправить":
- Отправить промт во все активные модели
- Показать результаты в таблице
- [ ] По нажатию "Сохранить":
- Записать выбранные строки в `results`
- Обновить интерфейс

## Этап 7: Тестирование
- [ ] Проверить:
- Добавление/редактирование моделей
- Отправку промта
- Сохранение результатов
- Поиск и сортировку
- [ ] Обработка ошибок (нет интернета, неверный ключ)

## Этап 8: Опциональные улучшения
- [ ] Экспорт в Markdown: `# Модель: GPT-4\n\n> Ответ...`
- [ ] Настройки в GUI: включить/выключить модели
- [ ] Автозагрузка последнего промта
- [ ] Поддержка нескольких провайдеров (Groq, DeepSeek, Gemini)

## Этап 9: Сборка в .exe
- [ ] Установить `pyinstaller`
- [ ] Создать `build.bat`:
```bat
python -m PyInstaller --onefile --windowed main.py
[ ] Проверить работу .exe

## Этап 10: Документация
[ ] Обновить README.md
[ ] Добавить скриншоты интерфейса